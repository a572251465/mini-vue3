<!DOCTYPE html>
<html lang='en'>
<head>
  <meta charset='UTF-8' />
  <meta
    name='viewport'
    content='width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0'
  />
  <meta http-equiv='X-UA-Compatible' content='ie=edge' />
  <title>自我手写的reactive</title>
  <script src='./reactivity.global.js'></script>
  <script src='../../runtime-core/dist/runtime-core.global.js'></script>
</head>
<body>
<div id='root'></div>
<script>
  const { reactive, readonly, effect, watch, computed } = VueReactivity

  const state = reactive({
    name: 'lihh',
    age: 23
  })

  const age = computed(() => state.age * 2)

  effect(() => {
    document.getElementById('root').innerHTML = `姓名是：${state.name}, 年龄是：${age.value}`
  })

  setTimeout(() => {
    state.age = 30
  }, 1000)

  // effect(() => {
  //   document.getElementById(
  //     'root'
  //   ).innerHTML = `姓名：${state.name}, 年龄：${state.age}`
  // })
  // watch(
  //   () => state.age,
  //   (oldValue, newValue) => {
  //     console.log(oldValue, newValue)
  //   }
  // )
  //
  // setTimeout(() => {
  //   state.age++
  // }, 1000)

  // console.log(data)

  // const o = readonly({
  //   age: 2
  // })
  // console.log(o)
  // o.age = 3
</script>
</body>
</html>
